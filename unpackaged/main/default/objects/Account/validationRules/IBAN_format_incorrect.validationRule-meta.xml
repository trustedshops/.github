<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>IBAN_format_incorrect</fullName>
    <active>true</active>
    <errorConditionFormula>(ISNEW()
||
ISCHANGED(PartnerPaymentIBAN__c	))
&amp;&amp;
NOT(ISBLANK(PartnerPaymentIBAN__c))
&amp;&amp;
((BillingCountry= &quot;NL&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{2}[A-Z]{4}[0-9]{10}&quot;))))
||
((BillingCountry= &quot;DE&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{20}&quot;)))))
||
((BillingCountry= &quot;GB&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{2}[A-Z]{4}[0-9]{14}&quot;)))))
||
((BillingCountry= &quot;ES&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{22}&quot;)))))
||
((BillingCountry= &quot;AT&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{18}&quot;)))))
||
((BillingCountry= &quot;CH&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{19}&quot;)))))
||
((BillingCountry= &quot;IE&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{2}[A-Z]{4}[0-9]{14}&quot;)))))
||
((BillingCountry= &quot;BE&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{14}&quot;)))))
||
((BillingCountry= &quot;FR&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{25}&quot;)))))
||
((BillingCountry= &quot;LU&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{18}&quot;)))))
||
((BillingCountry= &quot;IT&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{2}[A-Z]{1}[0-9]{22}&quot;)))))
||
((BillingCountry= &quot;PL&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{26}&quot;)))))
||
((BillingCountry= &quot;CZ&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{22}&quot;)))))
||
((BillingCountry= &quot;RO&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{2}[A-Z]{4}[0-9]{16}&quot;)))))
||
((BillingCountry= &quot;DK&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{16}&quot;)))))
||
((BillingCountry= &quot;FI&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{16}&quot;)))))
||
((BillingCountry= &quot;IS&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{24}&quot;)))))
||
((BillingCountry= &quot;SE&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{22}&quot;)))))
||
((BillingCountry= &quot;NO&quot;
&amp;&amp;
(NOT(REGEX(PartnerPaymentIBAN__c, &quot;[A-Z]{2}[0-9]{13}&quot;))))))
&amp;&amp;
$User.ignore_validation_rules__c = false</errorConditionFormula>
    <errorDisplayField>PartnerPaymentIBAN__c</errorDisplayField>
    <errorMessage>Invalid IBAN format on the account, please do not use any spaces and make sure to follow the correct format used in the billing country.</errorMessage>
</ValidationRule>
